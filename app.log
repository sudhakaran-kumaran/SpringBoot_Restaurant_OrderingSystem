2023-11-18 13:49:23.506  INFO 7844 --- [main] c.r.SpringBootRestApiStarterApplication  : Starting SpringBootRestApiStarterApplication using Java 17.0.8 on KS20L480 with PID 7844 (C:\Users\kumaran\Documents\Projects\SpringBoot Restaurant Ordering System\target\classes started by kumaran in C:\Users\kumaran\Documents\Projects\SpringBoot Restaurant Ordering System)
2023-11-18 13:49:23.512  INFO 7844 --- [main] c.r.SpringBootRestApiStarterApplication  : No active profile set, falling back to 1 default profile: "default"
2023-11-18 13:49:24.498  INFO 7844 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-18 13:49:24.591  INFO 7844 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 81 ms. Found 8 JPA repository interfaces.
2023-11-18 13:49:25.368  INFO 7844 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-18 13:49:25.380  INFO 7844 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-18 13:49:25.381  INFO 7844 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.82]
2023-11-18 13:49:25.509  INFO 7844 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-18 13:49:25.509  INFO 7844 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1942 ms
2023-11-18 13:49:25.716  INFO 7844 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-18 13:49:25.801  INFO 7844 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-11-18 13:49:25.997  INFO 7844 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-11-18 13:49:26.106  INFO 7844 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-18 13:49:26.112  WARN 7844 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2023-11-18 13:49:26.304  INFO 7844 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-18 13:49:26.318  INFO 7844 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-11-18 13:49:27.056  INFO 7844 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-18 13:49:27.064  INFO 7844 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-18 13:49:27.095  WARN 7844 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-18 13:49:28.280 TRACE 7844 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.restapi.config.SecurityConfig$$EnhancerBySpringCGLIB$$58963339@4c12f54a}
2023-11-18 13:49:28.386 DEBUG 7844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/h2-console/**']
2023-11-18 13:49:28.401 DEBUG 7844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/**']
2023-11-18 13:49:28.401 DEBUG 7844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2023-11-18 13:49:28.402 DEBUG 7844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2023-11-18 13:49:28.406 TRACE 7844 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2023-11-18 13:49:28.407 TRACE 7844 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2023-11-18 13:49:28.446  INFO 7844 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3ede428e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70a8654, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c56e044, org.springframework.security.web.header.HeaderWriterFilter@259ae1a9, org.springframework.web.filter.CorsFilter@671c71e8, org.springframework.security.web.authentication.logout.LogoutFilter@58c93be3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ad13be4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@153cf928, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4884350b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d5176d6, org.springframework.security.web.session.SessionManagementFilter@510e0dd2, org.springframework.security.web.access.ExceptionTranslationFilter@4ed492df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c427386]
2023-11-18 13:49:28.693  INFO 7844 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-11-18 13:49:29.098  INFO 7844 --- [main] c.r.SpringBootRestApiStarterApplication  : Started SpringBootRestApiStarterApplication in 6.03 seconds (JVM running for 6.631)
2023-11-18 13:49:59.040  INFO 7844 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-11-18 13:49:59.040  INFO 7844 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-11-18 13:49:59.042  INFO 7844 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-11-18 13:49:59.052 TRACE 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3ede428e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70a8654, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c56e044, org.springframework.security.web.header.HeaderWriterFilter@259ae1a9, org.springframework.web.filter.CorsFilter@671c71e8, org.springframework.security.web.authentication.logout.LogoutFilter@58c93be3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ad13be4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@153cf928, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4884350b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d5176d6, org.springframework.security.web.session.SessionManagementFilter@510e0dd2, org.springframework.security.web.access.ExceptionTranslationFilter@4ed492df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c427386]] (1/1)
2023-11-18 13:49:59.053 DEBUG 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/category/all
2023-11-18 13:49:59.054 TRACE 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 13:49:59.055 TRACE 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 13:49:59.059 TRACE 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 13:49:59.059 DEBUG 7844 --- [http-nio-8080-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 13:49:59.060 TRACE 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 13:49:59.061 TRACE 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 13:49:59.065 TRACE 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 13:49:59.066 TRACE 7844 --- [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 13:49:59.066 TRACE 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 13:49:59.068 TRACE 7844 --- [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'admin' in Basic Authorization header
2023-11-18 13:49:59.069 TRACE 7844 --- [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 13:49:59.272 DEBUG 7844 --- [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 13:49:59.273 DEBUG 7844 --- [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2023-11-18 13:49:59.274 TRACE 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 13:49:59.274 TRACE 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 13:49:59.277 TRACE 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 13:49:59.277 TRACE 7844 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2023-11-18 13:49:59.278 TRACE 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 13:49:59.278 TRACE 7844 --- [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 13:49:59.278 TRACE 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 13:49:59.278 TRACE 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 13:49:59.279 TRACE 7844 --- [http-nio-8080-exec-1] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 13:49:59.279 TRACE 7844 --- [http-nio-8080-exec-1] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api/auth/**'] - [permitAll] (2/4)
2023-11-18 13:49:59.279 TRACE 7844 --- [http-nio-8080-exec-1] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/swagger-ui/**'] - [permitAll] (3/4)
2023-11-18 13:49:59.280 TRACE 7844 --- [http-nio-8080-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]] before authorizing
2023-11-18 13:49:59.280 TRACE 7844 --- [http-nio-8080-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [GET /api/admin/category/all] with attributes [authenticated]
2023-11-18 13:49:59.288 DEBUG 7844 --- [http-nio-8080-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/category/all] with attributes [authenticated]
2023-11-18 13:49:59.288 TRACE 7844 --- [http-nio-8080-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 13:49:59.289 DEBUG 7844 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/category/all
2023-11-18 13:49:59.310 DEBUG 7844 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.admin.AdminCategoryController.getAllCategories(); target is of class [com.restapi.controller.admin.AdminCategoryController]
2023-11-18 13:49:59.321 DEBUG 7844 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.admin.AdminCategoryController.getAllCategories(); target is of class [com.restapi.controller.admin.AdminCategoryController]
2023-11-18 13:49:59.390 TRACE 7844 --- [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 13:49:59.394 DEBUG 7844 --- [http-nio-8080-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 13:50:09.391 TRACE 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3ede428e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70a8654, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c56e044, org.springframework.security.web.header.HeaderWriterFilter@259ae1a9, org.springframework.web.filter.CorsFilter@671c71e8, org.springframework.security.web.authentication.logout.LogoutFilter@58c93be3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ad13be4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@153cf928, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4884350b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d5176d6, org.springframework.security.web.session.SessionManagementFilter@510e0dd2, org.springframework.security.web.access.ExceptionTranslationFilter@4ed492df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c427386]] (1/1)
2023-11-18 13:50:09.392 DEBUG 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dish/all
2023-11-18 13:50:09.392 TRACE 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 13:50:09.392 TRACE 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 13:50:09.392 TRACE 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 13:50:09.392 DEBUG 7844 --- [http-nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 13:50:09.393 TRACE 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 13:50:09.393 TRACE 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 13:50:09.393 TRACE 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 13:50:09.393 TRACE 7844 --- [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 13:50:09.394 TRACE 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 13:50:09.394 TRACE 7844 --- [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'admin' in Basic Authorization header
2023-11-18 13:50:09.394 TRACE 7844 --- [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 13:50:09.478 DEBUG 7844 --- [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 13:50:09.479 DEBUG 7844 --- [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2023-11-18 13:50:09.479 TRACE 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 13:50:09.479 TRACE 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 13:50:09.479 TRACE 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 13:50:09.479 TRACE 7844 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2023-11-18 13:50:09.479 TRACE 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 13:50:09.479 TRACE 7844 --- [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 13:50:09.479 TRACE 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 13:50:09.480 TRACE 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 13:50:09.480 TRACE 7844 --- [http-nio-8080-exec-4] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 13:50:09.480 TRACE 7844 --- [http-nio-8080-exec-4] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api/auth/**'] - [permitAll] (2/4)
2023-11-18 13:50:09.481 TRACE 7844 --- [http-nio-8080-exec-4] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/swagger-ui/**'] - [permitAll] (3/4)
2023-11-18 13:50:09.481 TRACE 7844 --- [http-nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]] before authorizing
2023-11-18 13:50:09.481 TRACE 7844 --- [http-nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [GET /api/admin/dish/all] with attributes [authenticated]
2023-11-18 13:50:09.481 DEBUG 7844 --- [http-nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dish/all] with attributes [authenticated]
2023-11-18 13:50:09.481 TRACE 7844 --- [http-nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 13:50:09.482 DEBUG 7844 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dish/all
2023-11-18 13:50:09.520 TRACE 7844 --- [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 13:50:09.521 DEBUG 7844 --- [http-nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 13:50:20.082 TRACE 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3ede428e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70a8654, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c56e044, org.springframework.security.web.header.HeaderWriterFilter@259ae1a9, org.springframework.web.filter.CorsFilter@671c71e8, org.springframework.security.web.authentication.logout.LogoutFilter@58c93be3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ad13be4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@153cf928, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4884350b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d5176d6, org.springframework.security.web.session.SessionManagementFilter@510e0dd2, org.springframework.security.web.access.ExceptionTranslationFilter@4ed492df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c427386]] (1/1)
2023-11-18 13:50:20.083 DEBUG 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/dish/all
2023-11-18 13:50:20.083 TRACE 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 13:50:20.083 TRACE 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 13:50:20.083 TRACE 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 13:50:20.083 DEBUG 7844 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 13:50:20.083 TRACE 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 13:50:20.083 TRACE 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 13:50:20.084 TRACE 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 13:50:20.084 TRACE 7844 --- [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 13:50:20.084 TRACE 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 13:50:20.084 TRACE 7844 --- [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'user' in Basic Authorization header
2023-11-18 13:50:20.084 TRACE 7844 --- [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 13:50:20.175 DEBUG 7844 --- [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 13:50:20.175 DEBUG 7844 --- [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 13:50:20.176 TRACE 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 13:50:20.176 TRACE 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 13:50:20.176 TRACE 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 13:50:20.176 TRACE 7844 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 13:50:20.176 TRACE 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 13:50:20.177 TRACE 7844 --- [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 13:50:20.177 TRACE 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 13:50:20.177 TRACE 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 13:50:20.177 TRACE 7844 --- [http-nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 13:50:20.177 TRACE 7844 --- [http-nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api/auth/**'] - [permitAll] (2/4)
2023-11-18 13:50:20.177 TRACE 7844 --- [http-nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/swagger-ui/**'] - [permitAll] (3/4)
2023-11-18 13:50:20.177 TRACE 7844 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]] before authorizing
2023-11-18 13:50:20.178 TRACE 7844 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [GET /api/dish/all] with attributes [authenticated]
2023-11-18 13:50:20.178 DEBUG 7844 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/dish/all] with attributes [authenticated]
2023-11-18 13:50:20.178 TRACE 7844 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 13:50:20.178 DEBUG 7844 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/dish/all
2023-11-18 13:50:20.180 DEBUG 7844 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.DishController.getAllDishes(); target is of class [com.restapi.controller.DishController]
2023-11-18 13:50:20.181 DEBUG 7844 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.DishController.getAllDishes(); target is of class [com.restapi.controller.DishController]
2023-11-18 13:50:20.193 TRACE 7844 --- [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 13:50:20.195 DEBUG 7844 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 13:50:36.659 TRACE 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3ede428e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70a8654, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c56e044, org.springframework.security.web.header.HeaderWriterFilter@259ae1a9, org.springframework.web.filter.CorsFilter@671c71e8, org.springframework.security.web.authentication.logout.LogoutFilter@58c93be3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ad13be4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@153cf928, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4884350b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d5176d6, org.springframework.security.web.session.SessionManagementFilter@510e0dd2, org.springframework.security.web.access.ExceptionTranslationFilter@4ed492df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c427386]] (1/1)
2023-11-18 13:50:36.659 DEBUG 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/addtoCart
2023-11-18 13:50:36.659 TRACE 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 13:50:36.659 TRACE 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 13:50:36.659 TRACE 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 13:50:36.659 DEBUG 7844 --- [http-nio-8080-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 13:50:36.659 TRACE 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 13:50:36.660 TRACE 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 13:50:36.660 TRACE 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 13:50:36.660 TRACE 7844 --- [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 13:50:36.660 TRACE 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 13:50:36.661 TRACE 7844 --- [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'user' in Basic Authorization header
2023-11-18 13:50:36.661 TRACE 7844 --- [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 13:50:36.745 DEBUG 7844 --- [http-nio-8080-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 13:50:36.745 DEBUG 7844 --- [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 13:50:36.746 TRACE 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 13:50:36.746 TRACE 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 13:50:36.746 TRACE 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 13:50:36.746 TRACE 7844 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 13:50:36.746 TRACE 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 13:50:36.746 TRACE 7844 --- [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 13:50:36.746 TRACE 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 13:50:36.746 TRACE 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 13:50:36.746 TRACE 7844 --- [http-nio-8080-exec-10] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 13:50:36.746 TRACE 7844 --- [http-nio-8080-exec-10] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api/auth/**'] - [permitAll] (2/4)
2023-11-18 13:50:36.746 TRACE 7844 --- [http-nio-8080-exec-10] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/swagger-ui/**'] - [permitAll] (3/4)
2023-11-18 13:50:36.747 TRACE 7844 --- [http-nio-8080-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]] before authorizing
2023-11-18 13:50:36.747 TRACE 7844 --- [http-nio-8080-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [POST /api/cart/addtoCart] with attributes [authenticated]
2023-11-18 13:50:36.747 DEBUG 7844 --- [http-nio-8080-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cart/addtoCart] with attributes [authenticated]
2023-11-18 13:50:36.747 TRACE 7844 --- [http-nio-8080-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 13:50:36.747 DEBUG 7844 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/addtoCart
2023-11-18 13:50:36.789 DEBUG 7844 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.CartController.addtoCart(com.restapi.request.CartRequest); target is of class [com.restapi.controller.CartController]
2023-11-18 13:50:36.791 DEBUG 7844 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.CartController.addtoCart(com.restapi.request.CartRequest); target is of class [com.restapi.controller.CartController]
2023-11-18 13:50:36.841 TRACE 7844 --- [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 13:50:36.842 DEBUG 7844 --- [http-nio-8080-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 13:50:49.754 TRACE 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3ede428e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70a8654, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c56e044, org.springframework.security.web.header.HeaderWriterFilter@259ae1a9, org.springframework.web.filter.CorsFilter@671c71e8, org.springframework.security.web.authentication.logout.LogoutFilter@58c93be3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ad13be4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@153cf928, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4884350b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d5176d6, org.springframework.security.web.session.SessionManagementFilter@510e0dd2, org.springframework.security.web.access.ExceptionTranslationFilter@4ed492df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c427386]] (1/1)
2023-11-18 13:50:49.754 DEBUG 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/addtoCart
2023-11-18 13:50:49.754 TRACE 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 13:50:49.754 TRACE 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 13:50:49.754 TRACE 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 13:50:49.754 DEBUG 7844 --- [http-nio-8080-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 13:50:49.756 TRACE 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 13:50:49.756 TRACE 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 13:50:49.756 TRACE 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 13:50:49.756 TRACE 7844 --- [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 13:50:49.756 TRACE 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 13:50:49.757 TRACE 7844 --- [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'user' in Basic Authorization header
2023-11-18 13:50:49.757 TRACE 7844 --- [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 13:50:49.874 DEBUG 7844 --- [http-nio-8080-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 13:50:49.874 DEBUG 7844 --- [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 13:50:49.875 TRACE 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 13:50:49.875 TRACE 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 13:50:49.875 TRACE 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 13:50:49.875 TRACE 7844 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 13:50:49.876 TRACE 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 13:50:49.876 TRACE 7844 --- [http-nio-8080-exec-9] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 13:50:49.876 TRACE 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 13:50:49.876 TRACE 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 13:50:49.877 TRACE 7844 --- [http-nio-8080-exec-9] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 13:50:49.877 TRACE 7844 --- [http-nio-8080-exec-9] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api/auth/**'] - [permitAll] (2/4)
2023-11-18 13:50:49.877 TRACE 7844 --- [http-nio-8080-exec-9] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/swagger-ui/**'] - [permitAll] (3/4)
2023-11-18 13:50:49.877 TRACE 7844 --- [http-nio-8080-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]] before authorizing
2023-11-18 13:50:49.877 TRACE 7844 --- [http-nio-8080-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [POST /api/cart/addtoCart] with attributes [authenticated]
2023-11-18 13:50:49.877 DEBUG 7844 --- [http-nio-8080-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cart/addtoCart] with attributes [authenticated]
2023-11-18 13:50:49.877 TRACE 7844 --- [http-nio-8080-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 13:50:49.877 DEBUG 7844 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/addtoCart
2023-11-18 13:50:49.879 DEBUG 7844 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.CartController.addtoCart(com.restapi.request.CartRequest); target is of class [com.restapi.controller.CartController]
2023-11-18 13:50:49.879 DEBUG 7844 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.CartController.addtoCart(com.restapi.request.CartRequest); target is of class [com.restapi.controller.CartController]
2023-11-18 13:50:49.899 TRACE 7844 --- [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 13:50:49.901 DEBUG 7844 --- [http-nio-8080-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 13:51:00.952 TRACE 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3ede428e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70a8654, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c56e044, org.springframework.security.web.header.HeaderWriterFilter@259ae1a9, org.springframework.web.filter.CorsFilter@671c71e8, org.springframework.security.web.authentication.logout.LogoutFilter@58c93be3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ad13be4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@153cf928, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4884350b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d5176d6, org.springframework.security.web.session.SessionManagementFilter@510e0dd2, org.springframework.security.web.access.ExceptionTranslationFilter@4ed492df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c427386]] (1/1)
2023-11-18 13:51:00.952 DEBUG 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart/2
2023-11-18 13:51:00.952 TRACE 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 13:51:00.953 TRACE 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 13:51:00.953 TRACE 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 13:51:00.953 DEBUG 7844 --- [http-nio-8080-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 13:51:00.953 TRACE 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 13:51:00.953 TRACE 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 13:51:00.954 TRACE 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 13:51:00.954 TRACE 7844 --- [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 13:51:00.954 TRACE 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 13:51:00.955 TRACE 7844 --- [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'user' in Basic Authorization header
2023-11-18 13:51:00.955 TRACE 7844 --- [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 13:51:01.038 DEBUG 7844 --- [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 13:51:01.038 DEBUG 7844 --- [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 13:51:01.038 TRACE 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 13:51:01.038 TRACE 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 13:51:01.038 TRACE 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 13:51:01.038 TRACE 7844 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 13:51:01.038 TRACE 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 13:51:01.039 TRACE 7844 --- [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 13:51:01.039 TRACE 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 13:51:01.039 TRACE 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 13:51:01.039 TRACE 7844 --- [http-nio-8080-exec-3] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 13:51:01.039 TRACE 7844 --- [http-nio-8080-exec-3] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api/auth/**'] - [permitAll] (2/4)
2023-11-18 13:51:01.039 TRACE 7844 --- [http-nio-8080-exec-3] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/swagger-ui/**'] - [permitAll] (3/4)
2023-11-18 13:51:01.039 TRACE 7844 --- [http-nio-8080-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]] before authorizing
2023-11-18 13:51:01.040 TRACE 7844 --- [http-nio-8080-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [GET /api/cart/2] with attributes [authenticated]
2023-11-18 13:51:01.040 DEBUG 7844 --- [http-nio-8080-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cart/2] with attributes [authenticated]
2023-11-18 13:51:01.040 TRACE 7844 --- [http-nio-8080-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 13:51:01.040 DEBUG 7844 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart/2
2023-11-18 13:51:01.042 DEBUG 7844 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.CartController.getUserCart(java.lang.Long); target is of class [com.restapi.controller.CartController]
2023-11-18 13:51:01.043 DEBUG 7844 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.CartController.getUserCart(java.lang.Long); target is of class [com.restapi.controller.CartController]
2023-11-18 13:51:01.053 TRACE 7844 --- [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 13:51:01.054 DEBUG 7844 --- [http-nio-8080-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 14:03:21.490  INFO 7844 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-18 14:03:21.492  INFO 7844 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-18 14:03:21.501  INFO 7844 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-18 14:03:25.720  INFO 1028 --- [main] c.r.SpringBootRestApiStarterApplication  : Starting SpringBootRestApiStarterApplication using Java 17.0.8 on KS20L480 with PID 1028 (C:\Users\kumaran\Documents\Projects\SpringBoot Restaurant Ordering System\target\classes started by kumaran in C:\Users\kumaran\Documents\Projects\SpringBoot Restaurant Ordering System)
2023-11-18 14:03:25.722  INFO 1028 --- [main] c.r.SpringBootRestApiStarterApplication  : No active profile set, falling back to 1 default profile: "default"
2023-11-18 14:03:26.632  INFO 1028 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-18 14:03:26.713  INFO 1028 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73 ms. Found 8 JPA repository interfaces.
2023-11-18 14:03:27.375  INFO 1028 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-18 14:03:27.390  INFO 1028 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-18 14:03:27.390  INFO 1028 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.82]
2023-11-18 14:03:27.522  INFO 1028 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-18 14:03:27.522  INFO 1028 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1743 ms
2023-11-18 14:03:27.687  INFO 1028 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-18 14:03:27.729  INFO 1028 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-11-18 14:03:27.889  INFO 1028 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-11-18 14:03:27.981  INFO 1028 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-18 14:03:27.986  WARN 1028 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2023-11-18 14:03:28.155  INFO 1028 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-18 14:03:28.171  INFO 1028 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-11-18 14:03:28.958  INFO 1028 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-18 14:03:28.965  INFO 1028 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-18 14:03:28.993  WARN 1028 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-18 14:03:30.140 TRACE 1028 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.restapi.config.SecurityConfig$$EnhancerBySpringCGLIB$$4a3d202d@237c8718}
2023-11-18 14:03:30.237 DEBUG 1028 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/h2-console/**']
2023-11-18 14:03:30.251 DEBUG 1028 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/**']
2023-11-18 14:03:30.252 DEBUG 1028 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2023-11-18 14:03:30.252 DEBUG 1028 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2023-11-18 14:03:30.257 TRACE 1028 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2023-11-18 14:03:30.258 TRACE 1028 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2023-11-18 14:03:30.300  INFO 1028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79f82fc4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@554db19d, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ae2028d, org.springframework.security.web.header.HeaderWriterFilter@7a0df38e, org.springframework.web.filter.CorsFilter@bb896e9, org.springframework.security.web.authentication.logout.LogoutFilter@15c8b75c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@14b0b7f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d082916, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67201002, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe4b8b6, org.springframework.security.web.session.SessionManagementFilter@513ddf5f, org.springframework.security.web.access.ExceptionTranslationFilter@35bb3fea, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19bad88]
2023-11-18 14:03:30.523  INFO 1028 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-11-18 14:03:30.917  INFO 1028 --- [main] c.r.SpringBootRestApiStarterApplication  : Started SpringBootRestApiStarterApplication in 5.605 seconds (JVM running for 5.985)
2023-11-18 14:03:40.244  INFO 1028 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-11-18 14:03:40.245  INFO 1028 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-11-18 14:03:40.246  INFO 1028 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-11-18 14:03:40.258 TRACE 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@79f82fc4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@554db19d, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ae2028d, org.springframework.security.web.header.HeaderWriterFilter@7a0df38e, org.springframework.web.filter.CorsFilter@bb896e9, org.springframework.security.web.authentication.logout.LogoutFilter@15c8b75c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@14b0b7f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d082916, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67201002, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe4b8b6, org.springframework.security.web.session.SessionManagementFilter@513ddf5f, org.springframework.security.web.access.ExceptionTranslationFilter@35bb3fea, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19bad88]] (1/1)
2023-11-18 14:03:40.260 DEBUG 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/order/2
2023-11-18 14:03:40.260 TRACE 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 14:03:40.261 TRACE 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 14:03:40.264 TRACE 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 14:03:40.266 DEBUG 1028 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 14:03:40.266 TRACE 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 14:03:40.269 TRACE 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 14:03:40.283 TRACE 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 14:03:40.284 TRACE 1028 --- [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 14:03:40.284 TRACE 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 14:03:40.284 TRACE 1028 --- [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2023-11-18 14:03:40.284 TRACE 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 14:03:40.284 TRACE 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 14:03:40.288 TRACE 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 14:03:40.294 TRACE 1028 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2023-11-18 14:03:40.294 TRACE 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 14:03:40.295 TRACE 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 14:03:40.295 TRACE 1028 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 14:03:40.295 TRACE 1028 --- [http-nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 14:03:40.295 TRACE 1028 --- [http-nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api/auth/**'] - [permitAll] (2/4)
2023-11-18 14:03:40.296 TRACE 1028 --- [http-nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/swagger-ui/**'] - [permitAll] (3/4)
2023-11-18 14:03:40.296 TRACE 1028 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] before authorizing
2023-11-18 14:03:40.296 TRACE 1028 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [GET /api/order/2] with attributes [authenticated]
2023-11-18 14:03:40.303 TRACE 1028 --- [http-nio-8080-exec-2] o.s.s.w.a.expression.WebExpressionVoter  : Voted to deny authorization
2023-11-18 14:03:40.304 TRACE 1028 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/order/2] with attributes [authenticated] using AffirmativeBased [DecisionVoters=[org.springframework.security.web.access.expression.WebExpressionVoter@31887330], AllowIfAllAbstainDecisions=false]
2023-11-18 14:03:40.316 TRACE 1028 --- [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.7.11.jar:5.7.11]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:239) ~[spring-security-core-5.7.11.jar:5.7.11]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:208) ~[spring-security-core-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:113) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:164) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.30.jar:5.3.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-11-18 14:03:40.395 TRACE 1028 --- [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 14:03:40.397 DEBUG 1028 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 14:03:49.759 TRACE 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@79f82fc4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@554db19d, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ae2028d, org.springframework.security.web.header.HeaderWriterFilter@7a0df38e, org.springframework.web.filter.CorsFilter@bb896e9, org.springframework.security.web.authentication.logout.LogoutFilter@15c8b75c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@14b0b7f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d082916, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67201002, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe4b8b6, org.springframework.security.web.session.SessionManagementFilter@513ddf5f, org.springframework.security.web.access.ExceptionTranslationFilter@35bb3fea, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19bad88]] (1/1)
2023-11-18 14:03:49.760 DEBUG 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/order/2
2023-11-18 14:03:49.760 TRACE 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 14:03:49.761 TRACE 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 14:03:49.761 TRACE 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 14:03:49.762 DEBUG 1028 --- [http-nio-8080-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 14:03:49.762 TRACE 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 14:03:49.762 TRACE 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 14:03:49.764 TRACE 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 14:03:49.766 TRACE 1028 --- [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 14:03:49.766 TRACE 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 14:03:49.768 TRACE 1028 --- [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'user' in Basic Authorization header
2023-11-18 14:03:49.770 TRACE 1028 --- [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 14:03:49.994 DEBUG 1028 --- [http-nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 14:03:49.995 DEBUG 1028 --- [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 14:03:49.996 TRACE 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 14:03:49.996 TRACE 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 14:03:49.996 TRACE 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 14:03:49.996 TRACE 1028 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 14:03:49.997 TRACE 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 14:03:49.998 TRACE 1028 --- [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 14:03:49.998 TRACE 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 14:03:49.998 TRACE 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 14:03:49.998 TRACE 1028 --- [http-nio-8080-exec-5] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 14:03:49.998 TRACE 1028 --- [http-nio-8080-exec-5] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api/auth/**'] - [permitAll] (2/4)
2023-11-18 14:03:49.998 TRACE 1028 --- [http-nio-8080-exec-5] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/swagger-ui/**'] - [permitAll] (3/4)
2023-11-18 14:03:49.998 TRACE 1028 --- [http-nio-8080-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]] before authorizing
2023-11-18 14:03:49.998 TRACE 1028 --- [http-nio-8080-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [GET /api/order/2] with attributes [authenticated]
2023-11-18 14:03:49.999 DEBUG 1028 --- [http-nio-8080-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/order/2] with attributes [authenticated]
2023-11-18 14:03:49.999 TRACE 1028 --- [http-nio-8080-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 14:03:50.000 DEBUG 1028 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/order/2
2023-11-18 14:03:50.028 DEBUG 1028 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.OrderController.getUserOrders(java.lang.Long); target is of class [com.restapi.controller.OrderController]
2023-11-18 14:03:50.038 DEBUG 1028 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.OrderController.getUserOrders(java.lang.Long); target is of class [com.restapi.controller.OrderController]
2023-11-18 14:03:50.066 TRACE 1028 --- [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 14:03:50.069 DEBUG 1028 --- [http-nio-8080-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 14:06:05.615  INFO 1028 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-18 14:06:05.617  INFO 1028 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-18 14:06:05.634  INFO 1028 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-18 14:06:09.608  INFO 21380 --- [main] c.r.SpringBootRestApiStarterApplication  : Starting SpringBootRestApiStarterApplication using Java 17.0.8 on KS20L480 with PID 21380 (C:\Users\kumaran\Documents\Projects\SpringBoot Restaurant Ordering System\target\classes started by kumaran in C:\Users\kumaran\Documents\Projects\SpringBoot Restaurant Ordering System)
2023-11-18 14:06:09.612  INFO 21380 --- [main] c.r.SpringBootRestApiStarterApplication  : No active profile set, falling back to 1 default profile: "default"
2023-11-18 14:06:10.764  INFO 21380 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-18 14:06:10.875  INFO 21380 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 8 JPA repository interfaces.
2023-11-18 14:06:11.834  INFO 21380 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-18 14:06:11.858  INFO 21380 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-18 14:06:11.859  INFO 21380 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.82]
2023-11-18 14:06:12.010  INFO 21380 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-18 14:06:12.010  INFO 21380 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2326 ms
2023-11-18 14:06:12.248  INFO 21380 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-18 14:06:12.303  INFO 21380 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-11-18 14:06:12.537  INFO 21380 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-11-18 14:06:12.675  INFO 21380 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-18 14:06:12.681  WARN 21380 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2023-11-18 14:06:12.905  INFO 21380 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-18 14:06:12.923  INFO 21380 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-11-18 14:06:13.837  INFO 21380 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-18 14:06:13.849  INFO 21380 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-18 14:06:13.889  WARN 21380 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-18 14:06:15.390 TRACE 21380 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.restapi.config.SecurityConfig$$EnhancerBySpringCGLIB$$4a3d202d@23b087c3}
2023-11-18 14:06:15.509 DEBUG 21380 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/h2-console/**']
2023-11-18 14:06:15.527 DEBUG 21380 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/**']
2023-11-18 14:06:15.528 DEBUG 21380 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2023-11-18 14:06:15.528 DEBUG 21380 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2023-11-18 14:06:15.532 TRACE 21380 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2023-11-18 14:06:15.533 TRACE 21380 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2023-11-18 14:06:15.590  INFO 21380 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@345d4ecb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66e44f9f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6109366a, org.springframework.security.web.header.HeaderWriterFilter@35bb3fea, org.springframework.web.filter.CorsFilter@79f82fc4, org.springframework.security.web.authentication.logout.LogoutFilter@6bab8290, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c427386, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ae2028d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@259ae1a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@554db19d, org.springframework.security.web.session.SessionManagementFilter@2a20aa4e, org.springframework.security.web.access.ExceptionTranslationFilter@3f0751b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c83e9ca]
2023-11-18 14:06:15.863  INFO 21380 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-11-18 14:06:16.384  INFO 21380 --- [main] c.r.SpringBootRestApiStarterApplication  : Started SpringBootRestApiStarterApplication in 7.338 seconds (JVM running for 7.9)
2023-11-18 14:09:35.007  INFO 21380 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-11-18 14:09:35.008  INFO 21380 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-11-18 14:09:35.009  INFO 21380 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-11-18 14:09:35.022 TRACE 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@345d4ecb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66e44f9f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6109366a, org.springframework.security.web.header.HeaderWriterFilter@35bb3fea, org.springframework.web.filter.CorsFilter@79f82fc4, org.springframework.security.web.authentication.logout.LogoutFilter@6bab8290, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c427386, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ae2028d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@259ae1a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@554db19d, org.springframework.security.web.session.SessionManagementFilter@2a20aa4e, org.springframework.security.web.access.ExceptionTranslationFilter@3f0751b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c83e9ca]] (1/1)
2023-11-18 14:09:35.023 DEBUG 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/order
2023-11-18 14:09:35.023 TRACE 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 14:09:35.024 TRACE 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 14:09:35.026 TRACE 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 14:09:35.026 DEBUG 21380 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 14:09:35.026 TRACE 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 14:09:35.029 TRACE 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 14:09:35.033 TRACE 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 14:09:35.034 TRACE 21380 --- [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 14:09:35.034 TRACE 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 14:09:35.035 TRACE 21380 --- [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2023-11-18 14:09:35.035 TRACE 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 14:09:35.035 TRACE 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 14:09:35.038 TRACE 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 14:09:35.040 TRACE 21380 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2023-11-18 14:09:35.040 TRACE 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 14:09:35.040 TRACE 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 14:09:35.040 TRACE 21380 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 14:09:35.041 TRACE 21380 --- [http-nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 14:09:35.041 TRACE 21380 --- [http-nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api/auth/**'] - [permitAll] (2/4)
2023-11-18 14:09:35.041 TRACE 21380 --- [http-nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/swagger-ui/**'] - [permitAll] (3/4)
2023-11-18 14:09:35.041 TRACE 21380 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] before authorizing
2023-11-18 14:09:35.042 TRACE 21380 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [POST /api/order] with attributes [authenticated]
2023-11-18 14:09:35.051 TRACE 21380 --- [http-nio-8080-exec-2] o.s.s.w.a.expression.WebExpressionVoter  : Voted to deny authorization
2023-11-18 14:09:35.052 TRACE 21380 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [POST /api/order] with attributes [authenticated] using AffirmativeBased [DecisionVoters=[org.springframework.security.web.access.expression.WebExpressionVoter@3c3a767], AllowIfAllAbstainDecisions=false]
2023-11-18 14:09:35.057 TRACE 21380 --- [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.7.11.jar:5.7.11]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:239) ~[spring-security-core-5.7.11.jar:5.7.11]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:208) ~[spring-security-core-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:113) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:164) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.30.jar:5.3.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-11-18 14:09:35.101 TRACE 21380 --- [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 14:09:35.104 DEBUG 21380 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 14:09:43.774 TRACE 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@345d4ecb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66e44f9f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6109366a, org.springframework.security.web.header.HeaderWriterFilter@35bb3fea, org.springframework.web.filter.CorsFilter@79f82fc4, org.springframework.security.web.authentication.logout.LogoutFilter@6bab8290, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c427386, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ae2028d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@259ae1a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@554db19d, org.springframework.security.web.session.SessionManagementFilter@2a20aa4e, org.springframework.security.web.access.ExceptionTranslationFilter@3f0751b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c83e9ca]] (1/1)
2023-11-18 14:09:43.775 DEBUG 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/order
2023-11-18 14:09:43.776 TRACE 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 14:09:43.777 TRACE 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 14:09:43.777 TRACE 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 14:09:43.777 DEBUG 21380 --- [http-nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 14:09:43.777 TRACE 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 14:09:43.778 TRACE 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 14:09:43.778 TRACE 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 14:09:43.779 TRACE 21380 --- [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 14:09:43.779 TRACE 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 14:09:43.780 TRACE 21380 --- [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'user' in Basic Authorization header
2023-11-18 14:09:43.781 TRACE 21380 --- [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 14:09:44.032 DEBUG 21380 --- [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 14:09:44.032 DEBUG 21380 --- [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 14:09:44.032 TRACE 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 14:09:44.032 TRACE 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 14:09:44.033 TRACE 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 14:09:44.033 TRACE 21380 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 14:09:44.033 TRACE 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 14:09:44.033 TRACE 21380 --- [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 14:09:44.034 TRACE 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 14:09:44.035 TRACE 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 14:09:44.035 TRACE 21380 --- [http-nio-8080-exec-4] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 14:09:44.035 TRACE 21380 --- [http-nio-8080-exec-4] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api/auth/**'] - [permitAll] (2/4)
2023-11-18 14:09:44.035 TRACE 21380 --- [http-nio-8080-exec-4] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/swagger-ui/**'] - [permitAll] (3/4)
2023-11-18 14:09:44.036 TRACE 21380 --- [http-nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]] before authorizing
2023-11-18 14:09:44.036 TRACE 21380 --- [http-nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [POST /api/order] with attributes [authenticated]
2023-11-18 14:09:44.036 DEBUG 21380 --- [http-nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/order] with attributes [authenticated]
2023-11-18 14:09:44.037 TRACE 21380 --- [http-nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 14:09:44.037 DEBUG 21380 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/order
2023-11-18 14:09:44.052 TRACE 21380 --- [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 14:09:44.052 DEBUG 21380 --- [http-nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 14:09:58.000 TRACE 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@345d4ecb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66e44f9f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6109366a, org.springframework.security.web.header.HeaderWriterFilter@35bb3fea, org.springframework.web.filter.CorsFilter@79f82fc4, org.springframework.security.web.authentication.logout.LogoutFilter@6bab8290, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c427386, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ae2028d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@259ae1a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@554db19d, org.springframework.security.web.session.SessionManagementFilter@2a20aa4e, org.springframework.security.web.access.ExceptionTranslationFilter@3f0751b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c83e9ca]] (1/1)
2023-11-18 14:09:58.001 DEBUG 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/order
2023-11-18 14:09:58.001 TRACE 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 14:09:58.001 TRACE 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 14:09:58.001 TRACE 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 14:09:58.001 DEBUG 21380 --- [http-nio-8080-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 14:09:58.001 TRACE 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 14:09:58.001 TRACE 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 14:09:58.002 TRACE 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 14:09:58.002 TRACE 21380 --- [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 14:09:58.002 TRACE 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 14:09:58.002 TRACE 21380 --- [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'user' in Basic Authorization header
2023-11-18 14:09:58.002 TRACE 21380 --- [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 14:09:58.073 DEBUG 21380 --- [http-nio-8080-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 14:09:58.074 DEBUG 21380 --- [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 14:09:58.074 TRACE 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 14:09:58.074 TRACE 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 14:09:58.074 TRACE 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 14:09:58.074 TRACE 21380 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 14:09:58.074 TRACE 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 14:09:58.075 TRACE 21380 --- [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 14:09:58.075 TRACE 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 14:09:58.075 TRACE 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 14:09:58.075 TRACE 21380 --- [http-nio-8080-exec-6] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 14:09:58.075 TRACE 21380 --- [http-nio-8080-exec-6] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api/auth/**'] - [permitAll] (2/4)
2023-11-18 14:09:58.075 TRACE 21380 --- [http-nio-8080-exec-6] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/swagger-ui/**'] - [permitAll] (3/4)
2023-11-18 14:09:58.075 TRACE 21380 --- [http-nio-8080-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]] before authorizing
2023-11-18 14:09:58.075 TRACE 21380 --- [http-nio-8080-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [POST /api/order] with attributes [authenticated]
2023-11-18 14:09:58.075 DEBUG 21380 --- [http-nio-8080-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/order] with attributes [authenticated]
2023-11-18 14:09:58.075 TRACE 21380 --- [http-nio-8080-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 14:09:58.075 DEBUG 21380 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/order
2023-11-18 14:09:58.076 TRACE 21380 --- [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 14:09:58.076 DEBUG 21380 --- [http-nio-8080-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 14:14:51.653  INFO 21380 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-18 14:14:51.656  INFO 21380 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-18 14:14:51.664  INFO 21380 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-18 14:14:54.586  INFO 20772 --- [main] c.r.SpringBootRestApiStarterApplication  : Starting SpringBootRestApiStarterApplication using Java 17.0.8 on KS20L480 with PID 20772 (C:\Users\kumaran\Documents\Projects\SpringBoot Restaurant Ordering System\target\classes started by kumaran in C:\Users\kumaran\Documents\Projects\SpringBoot Restaurant Ordering System)
2023-11-18 14:14:54.589  INFO 20772 --- [main] c.r.SpringBootRestApiStarterApplication  : No active profile set, falling back to 1 default profile: "default"
2023-11-18 14:14:55.441  INFO 20772 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-18 14:14:55.528  INFO 20772 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78 ms. Found 8 JPA repository interfaces.
2023-11-18 14:14:56.153  INFO 20772 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-18 14:14:56.161  INFO 20772 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-18 14:14:56.162  INFO 20772 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.82]
2023-11-18 14:14:56.283  INFO 20772 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-18 14:14:56.283  INFO 20772 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1642 ms
2023-11-18 14:14:56.455  INFO 20772 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-18 14:14:56.503  INFO 20772 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-11-18 14:14:56.668  INFO 20772 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-11-18 14:14:56.761  INFO 20772 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-18 14:14:56.767  WARN 20772 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2023-11-18 14:14:56.922  INFO 20772 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-18 14:14:56.937  INFO 20772 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-11-18 14:14:57.669  INFO 20772 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-18 14:14:57.678  INFO 20772 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-18 14:14:57.704  WARN 20772 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-18 14:14:58.783 TRACE 20772 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.restapi.config.SecurityConfig$$EnhancerBySpringCGLIB$$4a3d202d@23b087c3}
2023-11-18 14:14:58.875 DEBUG 20772 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/h2-console/**']
2023-11-18 14:14:58.889 DEBUG 20772 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/**']
2023-11-18 14:14:58.890 DEBUG 20772 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2023-11-18 14:14:58.890 DEBUG 20772 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2023-11-18 14:14:58.894 TRACE 20772 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2023-11-18 14:14:58.894 TRACE 20772 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2023-11-18 14:14:58.934  INFO 20772 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@345d4ecb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66e44f9f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6109366a, org.springframework.security.web.header.HeaderWriterFilter@35bb3fea, org.springframework.web.filter.CorsFilter@79f82fc4, org.springframework.security.web.authentication.logout.LogoutFilter@6bab8290, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c427386, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ae2028d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@259ae1a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@554db19d, org.springframework.security.web.session.SessionManagementFilter@2a20aa4e, org.springframework.security.web.access.ExceptionTranslationFilter@3f0751b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c83e9ca]
2023-11-18 14:14:59.148  INFO 20772 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-11-18 14:14:59.521  INFO 20772 --- [main] c.r.SpringBootRestApiStarterApplication  : Started SpringBootRestApiStarterApplication in 5.327 seconds (JVM running for 5.702)
2023-11-18 14:15:37.746  INFO 20772 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-11-18 14:15:37.747  INFO 20772 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-11-18 14:15:37.748  INFO 20772 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-11-18 14:15:37.758 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@345d4ecb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66e44f9f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6109366a, org.springframework.security.web.header.HeaderWriterFilter@35bb3fea, org.springframework.web.filter.CorsFilter@79f82fc4, org.springframework.security.web.authentication.logout.LogoutFilter@6bab8290, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c427386, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ae2028d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@259ae1a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@554db19d, org.springframework.security.web.session.SessionManagementFilter@2a20aa4e, org.springframework.security.web.access.ExceptionTranslationFilter@3f0751b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c83e9ca]] (1/1)
2023-11-18 14:15:37.759 DEBUG 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/addtoCart
2023-11-18 14:15:37.760 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 14:15:37.761 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 14:15:37.763 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 14:15:37.764 DEBUG 20772 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 14:15:37.764 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 14:15:37.766 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 14:15:37.772 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 14:15:37.773 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 14:15:37.774 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 14:15:37.776 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'user' in Basic Authorization header
2023-11-18 14:15:37.776 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 14:15:37.982 DEBUG 20772 --- [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 14:15:37.983 DEBUG 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 14:15:37.983 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 14:15:37.983 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 14:15:37.985 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 14:15:37.986 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 14:15:37.986 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 14:15:37.986 TRACE 20772 --- [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 14:15:37.986 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 14:15:37.987 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 14:15:37.988 TRACE 20772 --- [http-nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 14:15:37.988 TRACE 20772 --- [http-nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api/auth/**'] - [permitAll] (2/4)
2023-11-18 14:15:37.989 TRACE 20772 --- [http-nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/swagger-ui/**'] - [permitAll] (3/4)
2023-11-18 14:15:37.989 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]] before authorizing
2023-11-18 14:15:37.989 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [POST /api/cart/addtoCart] with attributes [authenticated]
2023-11-18 14:15:38.000 DEBUG 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cart/addtoCart] with attributes [authenticated]
2023-11-18 14:15:38.001 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 14:15:38.001 DEBUG 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/addtoCart
2023-11-18 14:15:38.084 DEBUG 20772 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.CartController.addtoCart(com.restapi.request.CartRequest); target is of class [com.restapi.controller.CartController]
2023-11-18 14:15:38.099 DEBUG 20772 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.CartController.addtoCart(com.restapi.request.CartRequest); target is of class [com.restapi.controller.CartController]
2023-11-18 14:15:38.189 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 14:15:38.195 DEBUG 20772 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 14:21:05.670 TRACE 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@345d4ecb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66e44f9f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6109366a, org.springframework.security.web.header.HeaderWriterFilter@35bb3fea, org.springframework.web.filter.CorsFilter@79f82fc4, org.springframework.security.web.authentication.logout.LogoutFilter@6bab8290, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c427386, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ae2028d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@259ae1a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@554db19d, org.springframework.security.web.session.SessionManagementFilter@2a20aa4e, org.springframework.security.web.access.ExceptionTranslationFilter@3f0751b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c83e9ca]] (1/1)
2023-11-18 14:21:05.671 DEBUG 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/order/2
2023-11-18 14:21:05.671 TRACE 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 14:21:05.671 TRACE 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 14:21:05.671 TRACE 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 14:21:05.671 DEBUG 20772 --- [http-nio-8080-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 14:21:05.671 TRACE 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 14:21:05.671 TRACE 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 14:21:05.672 TRACE 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 14:21:05.673 TRACE 20772 --- [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 14:21:05.673 TRACE 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 14:21:05.673 TRACE 20772 --- [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header
2023-11-18 14:21:05.673 TRACE 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 14:21:05.673 TRACE 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 14:21:05.673 TRACE 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 14:21:05.674 TRACE 20772 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2023-11-18 14:21:05.674 TRACE 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 14:21:05.674 TRACE 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 14:21:05.674 TRACE 20772 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 14:21:05.675 TRACE 20772 --- [http-nio-8080-exec-5] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 14:21:05.675 TRACE 20772 --- [http-nio-8080-exec-5] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api/auth/**'] - [permitAll] (2/4)
2023-11-18 14:21:05.675 TRACE 20772 --- [http-nio-8080-exec-5] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/swagger-ui/**'] - [permitAll] (3/4)
2023-11-18 14:21:05.675 TRACE 20772 --- [http-nio-8080-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] before authorizing
2023-11-18 14:21:05.675 TRACE 20772 --- [http-nio-8080-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [GET /api/admin/order/2] with attributes [authenticated]
2023-11-18 14:21:05.675 TRACE 20772 --- [http-nio-8080-exec-5] o.s.s.w.a.expression.WebExpressionVoter  : Voted to deny authorization
2023-11-18 14:21:05.675 TRACE 20772 --- [http-nio-8080-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/order/2] with attributes [authenticated] using AffirmativeBased [DecisionVoters=[org.springframework.security.web.access.expression.WebExpressionVoter@3c3a767], AllowIfAllAbstainDecisions=false]
2023-11-18 14:21:05.682 TRACE 20772 --- [http-nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.7.11.jar:5.7.11]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:239) ~[spring-security-core-5.7.11.jar:5.7.11]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:208) ~[spring-security-core-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:113) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:164) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.30.jar:5.3.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.30.jar:5.3.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.82.jar:9.0.82]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-11-18 14:21:05.685 TRACE 20772 --- [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 14:21:05.686 DEBUG 20772 --- [http-nio-8080-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 14:21:24.903 TRACE 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@345d4ecb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66e44f9f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6109366a, org.springframework.security.web.header.HeaderWriterFilter@35bb3fea, org.springframework.web.filter.CorsFilter@79f82fc4, org.springframework.security.web.authentication.logout.LogoutFilter@6bab8290, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c427386, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ae2028d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@259ae1a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@554db19d, org.springframework.security.web.session.SessionManagementFilter@2a20aa4e, org.springframework.security.web.access.ExceptionTranslationFilter@3f0751b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c83e9ca]] (1/1)
2023-11-18 14:21:24.903 DEBUG 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/order/2
2023-11-18 14:21:24.904 TRACE 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 14:21:24.904 TRACE 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 14:21:24.904 TRACE 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 14:21:24.904 DEBUG 20772 --- [http-nio-8080-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 14:21:24.904 TRACE 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 14:21:24.904 TRACE 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 14:21:24.905 TRACE 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 14:21:24.905 TRACE 20772 --- [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 14:21:24.905 TRACE 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 14:21:24.905 TRACE 20772 --- [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'admin' in Basic Authorization header
2023-11-18 14:21:24.905 TRACE 20772 --- [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 14:21:24.980 DEBUG 20772 --- [http-nio-8080-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 14:21:24.980 DEBUG 20772 --- [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2023-11-18 14:21:24.980 TRACE 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 14:21:24.980 TRACE 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 14:21:24.980 TRACE 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 14:21:24.980 TRACE 20772 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2023-11-18 14:21:24.980 TRACE 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 14:21:24.980 TRACE 20772 --- [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 14:21:24.980 TRACE 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 14:21:24.980 TRACE 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 14:21:24.980 TRACE 20772 --- [http-nio-8080-exec-7] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 14:21:24.980 TRACE 20772 --- [http-nio-8080-exec-7] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api/auth/**'] - [permitAll] (2/4)
2023-11-18 14:21:24.980 TRACE 20772 --- [http-nio-8080-exec-7] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/swagger-ui/**'] - [permitAll] (3/4)
2023-11-18 14:21:24.980 TRACE 20772 --- [http-nio-8080-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]] before authorizing
2023-11-18 14:21:24.980 TRACE 20772 --- [http-nio-8080-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [GET /api/admin/order/2] with attributes [authenticated]
2023-11-18 14:21:24.980 DEBUG 20772 --- [http-nio-8080-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/order/2] with attributes [authenticated]
2023-11-18 14:21:24.980 TRACE 20772 --- [http-nio-8080-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 14:21:24.980 DEBUG 20772 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/order/2
2023-11-18 14:21:24.984 DEBUG 20772 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.admin.AdminOrderController.getUsersOrder(java.lang.Integer); target is of class [com.restapi.controller.admin.AdminOrderController]
2023-11-18 14:21:24.986 DEBUG 20772 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restapi.controller.admin.AdminOrderController.getUsersOrder(java.lang.Integer); target is of class [com.restapi.controller.admin.AdminOrderController]
2023-11-18 14:21:24.990 TRACE 20772 --- [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 14:21:24.991 DEBUG 20772 --- [http-nio-8080-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 14:30:02.579 TRACE 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@345d4ecb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66e44f9f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6109366a, org.springframework.security.web.header.HeaderWriterFilter@35bb3fea, org.springframework.web.filter.CorsFilter@79f82fc4, org.springframework.security.web.authentication.logout.LogoutFilter@6bab8290, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c427386, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ae2028d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@259ae1a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@554db19d, org.springframework.security.web.session.SessionManagementFilter@2a20aa4e, org.springframework.security.web.access.ExceptionTranslationFilter@3f0751b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c83e9ca]] (1/1)
2023-11-18 14:30:02.580 DEBUG 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/register
2023-11-18 14:30:02.580 TRACE 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 14:30:02.580 TRACE 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 14:30:02.580 TRACE 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 14:30:02.580 DEBUG 20772 --- [http-nio-8080-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 14:30:02.580 TRACE 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 14:30:02.580 TRACE 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 14:30:02.581 TRACE 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 14:30:02.581 TRACE 20772 --- [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 14:30:02.581 TRACE 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 14:30:02.582 TRACE 20772 --- [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'user' in Basic Authorization header
2023-11-18 14:30:02.582 TRACE 20772 --- [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 14:30:02.665 DEBUG 20772 --- [http-nio-8080-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 14:30:02.666 DEBUG 20772 --- [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 14:30:02.666 TRACE 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 14:30:02.666 TRACE 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 14:30:02.666 TRACE 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 14:30:02.666 TRACE 20772 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 14:30:02.666 TRACE 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 14:30:02.666 TRACE 20772 --- [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 14:30:02.666 TRACE 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 14:30:02.666 TRACE 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 14:30:02.666 TRACE 20772 --- [http-nio-8080-exec-10] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 14:30:02.667 TRACE 20772 --- [http-nio-8080-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]] before authorizing
2023-11-18 14:30:02.667 TRACE 20772 --- [http-nio-8080-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [POST /api/auth/register] with attributes [permitAll]
2023-11-18 14:30:02.667 DEBUG 20772 --- [http-nio-8080-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/auth/register] with attributes [permitAll]
2023-11-18 14:30:02.667 TRACE 20772 --- [http-nio-8080-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 14:30:02.667 DEBUG 20772 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/register
2023-11-18 14:30:02.753 TRACE 20772 --- [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 14:30:02.754 DEBUG 20772 --- [http-nio-8080-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 14:30:56.328 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@345d4ecb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66e44f9f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6109366a, org.springframework.security.web.header.HeaderWriterFilter@35bb3fea, org.springframework.web.filter.CorsFilter@79f82fc4, org.springframework.security.web.authentication.logout.LogoutFilter@6bab8290, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c427386, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ae2028d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@259ae1a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@554db19d, org.springframework.security.web.session.SessionManagementFilter@2a20aa4e, org.springframework.security.web.access.ExceptionTranslationFilter@3f0751b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c83e9ca]] (1/1)
2023-11-18 14:30:56.328 DEBUG 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/register
2023-11-18 14:30:56.328 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 14:30:56.328 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 14:30:56.329 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 14:30:56.329 DEBUG 20772 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 14:30:56.329 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 14:30:56.329 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 14:30:56.329 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 14:30:56.329 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 14:30:56.329 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 14:30:56.329 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'admin' in Basic Authorization header
2023-11-18 14:30:56.329 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 14:30:56.400 DEBUG 20772 --- [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 14:30:56.400 DEBUG 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2023-11-18 14:30:56.400 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 14:30:56.400 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 14:30:56.400 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 14:30:56.400 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2023-11-18 14:30:56.400 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 14:30:56.400 TRACE 20772 --- [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 14:30:56.400 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 14:30:56.400 TRACE 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 14:30:56.400 TRACE 20772 --- [http-nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 14:30:56.400 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]] before authorizing
2023-11-18 14:30:56.400 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [POST /api/auth/register] with attributes [permitAll]
2023-11-18 14:30:56.400 DEBUG 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/auth/register] with attributes [permitAll]
2023-11-18 14:30:56.400 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 14:30:56.400 DEBUG 20772 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/register
2023-11-18 14:30:56.529 TRACE 20772 --- [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 14:30:56.529 DEBUG 20772 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 14:31:01.285 TRACE 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@345d4ecb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66e44f9f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6109366a, org.springframework.security.web.header.HeaderWriterFilter@35bb3fea, org.springframework.web.filter.CorsFilter@79f82fc4, org.springframework.security.web.authentication.logout.LogoutFilter@6bab8290, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c427386, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ae2028d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@259ae1a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@554db19d, org.springframework.security.web.session.SessionManagementFilter@2a20aa4e, org.springframework.security.web.access.ExceptionTranslationFilter@3f0751b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c83e9ca]] (1/1)
2023-11-18 14:31:01.286 DEBUG 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/register
2023-11-18 14:31:01.286 TRACE 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 14:31:01.286 TRACE 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 14:31:01.286 TRACE 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 14:31:01.286 DEBUG 20772 --- [http-nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 14:31:01.286 TRACE 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 14:31:01.286 TRACE 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 14:31:01.287 TRACE 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 14:31:01.287 TRACE 20772 --- [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 14:31:01.287 TRACE 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 14:31:01.287 TRACE 20772 --- [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'admin' in Basic Authorization header
2023-11-18 14:31:01.287 TRACE 20772 --- [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 14:31:01.379 DEBUG 20772 --- [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 14:31:01.380 DEBUG 20772 --- [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2023-11-18 14:31:01.380 TRACE 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 14:31:01.380 TRACE 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 14:31:01.380 TRACE 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 14:31:01.380 TRACE 20772 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2023-11-18 14:31:01.380 TRACE 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 14:31:01.380 TRACE 20772 --- [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 14:31:01.380 TRACE 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 14:31:01.380 TRACE 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 14:31:01.380 TRACE 20772 --- [http-nio-8080-exec-4] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 14:31:01.380 TRACE 20772 --- [http-nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]] before authorizing
2023-11-18 14:31:01.380 TRACE 20772 --- [http-nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [POST /api/auth/register] with attributes [permitAll]
2023-11-18 14:31:01.380 DEBUG 20772 --- [http-nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/auth/register] with attributes [permitAll]
2023-11-18 14:31:01.381 TRACE 20772 --- [http-nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 14:31:01.381 DEBUG 20772 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/register
2023-11-18 14:31:01.502  WARN 20772 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1062, SQLState: 23000
2023-11-18 14:31:01.502 ERROR 20772 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Duplicate entry 'sudhakarans' for key 'users.UK_r43af9ap4edm43mmtq01oddj6'
2023-11-18 14:31:01.511 TRACE 20772 --- [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 14:31:01.513 DEBUG 20772 --- [http-nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2023-11-18 14:31:24.578 TRACE 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@345d4ecb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66e44f9f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6109366a, org.springframework.security.web.header.HeaderWriterFilter@35bb3fea, org.springframework.web.filter.CorsFilter@79f82fc4, org.springframework.security.web.authentication.logout.LogoutFilter@6bab8290, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c427386, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ae2028d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@259ae1a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@554db19d, org.springframework.security.web.session.SessionManagementFilter@2a20aa4e, org.springframework.security.web.access.ExceptionTranslationFilter@3f0751b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c83e9ca]] (1/1)
2023-11-18 14:31:24.578 DEBUG 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2023-11-18 14:31:24.578 TRACE 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2023-11-18 14:31:24.578 TRACE 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2023-11-18 14:31:24.579 TRACE 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)
2023-11-18 14:31:24.579 DEBUG 20772 --- [http-nio-8080-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2023-11-18 14:31:24.579 TRACE 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2023-11-18 14:31:24.580 TRACE 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2023-11-18 14:31:24.580 TRACE 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2023-11-18 14:31:24.580 TRACE 20772 --- [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2023-11-18 14:31:24.581 TRACE 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (7/13)
2023-11-18 14:31:24.581 TRACE 20772 --- [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'user' in Basic Authorization header
2023-11-18 14:31:24.581 TRACE 20772 --- [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2023-11-18 14:31:24.677 DEBUG 20772 --- [http-nio-8080-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2023-11-18 14:31:24.678 DEBUG 20772 --- [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 14:31:24.678 TRACE 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2023-11-18 14:31:24.678 TRACE 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2023-11-18 14:31:24.678 TRACE 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2023-11-18 14:31:24.678 TRACE 20772 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2023-11-18 14:31:24.678 TRACE 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2023-11-18 14:31:24.678 TRACE 20772 --- [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2023-11-18 14:31:24.678 TRACE 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2023-11-18 14:31:24.678 TRACE 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)
2023-11-18 14:31:24.678 TRACE 20772 --- [http-nio-8080-exec-6] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/h2-console/**'] - [permitAll] (1/4)
2023-11-18 14:31:24.678 TRACE 20772 --- [http-nio-8080-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]] before authorizing
2023-11-18 14:31:24.678 TRACE 20772 --- [http-nio-8080-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorizing filter invocation [POST /api/auth/login] with attributes [permitAll]
2023-11-18 14:31:24.679 DEBUG 20772 --- [http-nio-8080-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/auth/login] with attributes [permitAll]
2023-11-18 14:31:24.679 TRACE 20772 --- [http-nio-8080-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Did not switch RunAs authentication since RunAsManager returned null
2023-11-18 14:31:24.679 DEBUG 20772 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2023-11-18 14:31:24.777 TRACE 20772 --- [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2023-11-18 14:31:24.778 DEBUG 20772 --- [http-nio-8080-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
